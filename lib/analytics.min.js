"use strict";!function(a){var b=function(){function a(a,b){var c=this;if(this.sid=a,this.DNT=!!parseInt(navigator.doNotTrack||0),this.version=110,this.sending=!1,this.loc=location||window.location||document.location,this.current="",this.auto=b!==!1,this.EUC=encodeURIComponent||function(a){return a},this.info=console.info||console.log,this.DNT)return this.info("We are respect you decision to be not tracked. DNT policy: https://en.wikipedia.org/wiki/Do_Not_Track"),this.info("For better experience we recommend to turn off DNT on your browser, more info: https://allaboutdnt.com/#adjust-settings"),this.info("Sincerely, ostrio: https://ostr.io"),!1;if(this.auto){var d=function(){c.track()};this.on(window,"hashchange",d),this.on(window,"popstate",d),setInterval(function(){c.current===c.loc.href||c.sending||d()},500);var e=window.History||History||window.history||history;e&&e.Adapter&&e.Adapter.bind(window,"statechange",d),this.on(document,"click",function(a){"A"===a.target.nodeName&&d()});var f=window.onerror;window.onerror=function(a,b,d){c.pushEvent("[Global Error]","Error: "+a+". File: "+b.replace(c.loc.origin,"")+" On line: "+d),f&&f.apply(this,arguments)},d()}}return a.prototype.on=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},a.prototype.pushEvent=function(a,b){if(!this.DNT)if(a=""+a,b=""+b,a&&b&&a.length&&b.length){var c={};b="[Global Error]"===a?b.trim().substring(0,512):b.trim().substring(0,64),c[a.trim().substring(0,24)]=b,this.track("?3="+JSON.stringify(c))}else console.warn("[ostrio] [pushEvent]: Can't add event without key or value!")},a.prototype.track=function(a){if(!this.DNT&&(a||(a=""),!this.sending&&this.current!==this.loc.href||~a.indexOf("?3="))){this.sending=!0;var b=this;setTimeout(function(){b.current=b.loc.href;var c;~a.indexOf("?3=")||(a="?6="+b.EUC(b.loc.href)+a,a+="&2="+b.EUC(document.title),document.referrer&&!~document.referrer.indexOf(b.loc.origin)&&(a+="&1="+b.EUC(document.referrer))),c=void 0===window.Image?document.createElement("img"):new Image,c.onload=function(){c=null},c.src="https://analytics.ostr.io/"+b.sid+".gif"+a+"&9="+(""+ +new Date).substr(-7)+"&v="+b.version,b.sending=!1},64)}},a}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports.OstrioTrackerClass=b):"undefined"!=typeof Meteor?OstrioTrackerClass=b:a.OstrioTrackerClass=b,"function"==typeof define&&define.amd&&define("OstrioTrackerClass",[],function(){return b})}(this);