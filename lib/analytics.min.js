"use strict";!function(t){var e=function(){function t(){this.s=window.screen||screen||{},this.h=this.s.height,this.w=this.s.width,this.cD=this.s.colorDepth,this.pD=this.s.pixelDepth;var t=this.s.orientation||this.s.mozOrientation||this.s.msOrientation||null;t&&t.type?(this.rtt=t.type.split("-")[0],~this.rtt.indexOf("landscape")&&(this.rtt="-"),~this.rtt.indexOf("portrait")&&(this.rtt="|")):this.rtt=this.d()}return t.prototype.d=function(){return this.w>=this.h?"-":"|"},t.prototype.toJ=function(){var t={};return t["4a"]=this.w+"x"+this.h,t["4b"]=(window.innerWidth||window.clientHeight)+"x"+(window.innerHeight||window.clientHeight),this.pD&&(t["4c"]=this.pD),this.cD&&(t["4d"]=this.cD),t["4e"]=this.rtt,JSON.stringify(t)},t}(),o=function(){function t(t,o){void 0===o&&(o=!0),this.scr=(new e).toJ(),this.loc=location||window.location||document.location,this.ch="",this.fc=!1,this.sid=t,this.DNT=!!parseInt(navigator.doNotTrack||0),this.ver=103,this.EUC=encodeURIComponent||function(t){return t};var i=this;this._hcWr=function(t){i._hc(t)},this.DNT?(console.log("We are respect you decision to be not tracked. DNT policy: https://en.wikipedia.org/wiki/Do_Not_Track"),console.log("For better experience we recommend to turn off DNT on your browser, more info: https://allaboutdnt.com/#adjust-settings"),console.log("Sincerely, ostrio: https://ostr.io")):o&&this._s()}return t.prototype._hc=function(t){var e=t.currentTarget;e&&e.href&&e.href!==this.ch+"#"&&e.href!==this.ch+"/#"&&(this.fc=!0,~e.href.indexOf(this.loc.origin)?this.track():this.track("&7="+this._gH()+"&8="+e.href,!1))},t.prototype._lL=function(){for(var t=Array.prototype.slice.call(document.getElementsByTagName("a")),e=t.length-1;e>=0;e--)this._rE(t[e],"click",this._hcWr),this._aE(t[e],"click",this._hcWr)},t.prototype._s=function(){var t=this;setTimeout(function(){return t.track.apply(t)},1),t._lL();var e=window.MutationObserver||window.WebKitMutationObserver;if(e){var o=new e(function(e){for(var o=e.length-1;o>=0;o--){for(var i=e[o].addedNodes.length-1;i>=0;i--)e[o].addedNodes[i].nodeName&&"A"===e[o].addedNodes[i].nodeName&&t._aE(e[o].addedNodes[i],"click",t._hcWr);for(var r=e[o].removedNodes.length-1;r>=0;r--)e[o].removedNodes[r].nodeName&&"A"===e[o].removedNodes[r].nodeName&&t._rE(e[o].removedNodes[r],"click",t._hcWr)}});o.observe(document.body,{childList:!0,subtree:!0})}else t._aE(document.body,"DOMSubtreeModified",t.lL);var i=function(){t.fc||t.track()},r=function(){t.fc||t.track("&7="+t._gH(),!1)};t._aE(window,"hashchange",i),t._aE(window,"popstate",i),t._aE(window,"unload",r),t._aE(window,"beforeunload",r);var n=window.History||History||window.history||history;n&&n.Adapter&&n.Adapter.bind(window,"statechange",i),setInterval(function(){t.ch===t.loc.href||t.fc||(t.track(),t._lL())},750);var s=window.onerror;window.onerror=function(e,o,i){t.pushEvent("[Global Error]","Error: "+e+". File: "+o.replace(t.loc.origin,"")+" On line: "+i),s&&s.apply(this,arguments)}},t.prototype._aE=function(t,e,o){t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent("on"+e,o)},t.prototype._rE=function(t,e,o){t.removeEventListener?t.removeEventListener(e,o,!1):t.detachEvent("on"+e,o)},t.prototype.pushEvent=function(t,e){if(!this.DNT)if(t&&e&&t.length&&e.length){var o={};e="[Global Error]"===t?e.trim().substring(0,512):e.trim().substring(0,64),o[t.trim().substring(0,24)]=e,this.track("&3="+JSON.stringify(o))}else console.warn("[ostrio] [pushEvent]: Can't add event without key or value!")},t.prototype._gH=function(){return this.loc.href},t.prototype.track=function(t,e){if(!this.DNT){t||(t="");var o=this,i=function(){if(o.ch!==o.loc.href||/&(8|3)=/.test(t)){var e,i="?";if(i+="6="+o.EUC(o._gH()),!~t.indexOf("&3=")){i+="&2="+o.EUC(document.title),i+="&4="+o.EUC(o.scr),document.referrer&&!~document.referrer.indexOf(o.loc.origin)&&(i+="&1="+o.EUC(document.referrer));var r=navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||!1;r&&(i+="&5="+o.EUC(r)),o.ch=o.loc.href}e=void 0===window.Image?document.createElement("img"):new Image,e.onload=function(){e=null},e.src="https://analytics.ostr.io/"+o.sid+".gif"+i+t+"&9="+(""+ +new Date).substr(-7)+"&v="+o.ver,setTimeout(function(){o.fc=!1,o._lL()},25)}};e===!1?i():setTimeout(i,26)}},t}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=o),exports.OstrioTrackerClass=o):"undefined"!=typeof Meteor?OstrioTrackerClass=o:t.OstrioTrackerClass=o,"function"==typeof define&&define.amd&&define("OstrioTrackerClass",[],function(){return o})}(this);