window.OstrioTrackerClass=window.OTC=function(){function t(t,n){var a=this;if(this.sid=t,this.DNT=!!parseInt(navigator.doNotTrack||0),this.version=207,this.sending=!1,this.loc=location||window.location||document.location,this.current="",this.auto=!(!1===n),this._euc=encodeURIComponent||function(t){return t},this.info=console.info.bind(console)||console.log.bind(console)||function(){},this.warn=console.warn.bind(console)||console.log.bind(console)||function(){},this.errs=[],this.onTrackArr=[],this.onEventArr=[],this.DNT)return this.info("We respect your decision to be not tracked. DNT policy: https://en.wikipedia.org/wiki/Do_Not_Track"),this.info("For better experience, we recommend to turn off DNT on your browser, more info: https://allaboutdnt.com/#adjust-settings"),this.info("Sincerely, https://ostr.io"),!1;if(this.auto){var o=function(){a.track()};this.on(window,"hashchange",o),this.on(window,"popstate",o),setInterval(function(){a.current===a.loc.href||a.sending||o()},500);var h=window.onerror;window.onerror=function(t,n,o,r){var i=n||"",e=t||"N/A",s=o||"0",c=r||"0";~i.indexOf(a.loc.origin)&&a.pushEvent("[Global Error]","Error: "+e+". File: "+i.replace(a.loc.origin,"")+" at "+a.loc.href+":"+s+":"+c),h&&h.apply(this,arguments)},o()}}return t.prototype.on=function(t,n,o){t.addEventListener?t.addEventListener(n,o,!1):t.attachEvent("on"+n,o)},t.prototype.onPushEvent=function(t){t&&"function"==typeof t&&this.onEventArr.push(t)},t.prototype.onTrack=function(t){t&&"function"==typeof t&&this.onTrackArr.push(t)},t.prototype.pushEvent=function(t,n){for(var o=this.onEventArr.length-1;0<=o;o--)this.onEventArr[o](t,n);if(!this.DNT)if(t&&n&&""+t.length&&""+n.length){var r=""+t,i=""+n,e={};if("[Global Error]"===r){if(i=i.trim().substring(0,512),~this.errs.indexOf(i))return;this.errs.push(i)}else i=i.trim().substring(0,64);e[r.trim().substring(0,24)]=i,this.track("?3="+this._euc(JSON.stringify(e)))}else this.warn("[ostrio] [pushEvent]: Can't add event without key or value!")},t.prototype.track=function(t){var o=t||"";if(!~o.indexOf("?3="))for(var n=this.onTrackArr.length-1;0<=n;n--)this.onTrackArr[n]();if(!this.DNT&&(!this.sending&&this.current!==this.loc.href||~o.indexOf("?3="))){this.sending=!0;var r=this;setTimeout(function(){r.current=r.loc.href,~o.indexOf("?3=")||(o="?6="+r._euc(r.loc.href.trim().substring(0,1024))+o,o+="&2="+r._euc(document.title.trim().substring(0,512)),document.referrer&&!~document.referrer.indexOf(r.loc.origin)&&(o+="&1="+r._euc(document.referrer.trim().substring(0,1024))));var t,n="https://analytics.ostr.io/"+r.sid+".gif"+o+"&9="+(""+ +new Date).substr(-7)+"&v="+r.version;navigator&&navigator.sendBeacon?navigator.sendBeacon(n):((t=window.Image===undefined?document.createElement("img"):new Image).onload=function(){t=null},t.src=n);r.sending=!1},64)}},t}();