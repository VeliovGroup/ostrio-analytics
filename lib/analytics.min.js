window.OstrioTrackerClass=window.OTC=function(){function t(t,n){var h=this;if(this.sid=t,this.DNT=!!parseInt(navigator.doNotTrack||0),this.version=206,this.sending=!1,this.loc=location||window.location||document.location,this.current="",this.auto=!(!1===n),this._euc=encodeURIComponent||function(t){return t},this.info=console.info.bind(console)||console.log.bind(console)||function(){},this.warn=console.warn.bind(console)||console.log.bind(console)||function(){},this.errs=[],this.onTrackArr=[],this.onEventArr=[],this.DNT)return this.info("We respect your decision to be not tracked. DNT policy: https://en.wikipedia.org/wiki/Do_Not_Track"),this.info("For better experience, we recommend to turn off DNT on your browser, more info: https://allaboutdnt.com/#adjust-settings"),this.info("Sincerely, https://ostr.io"),!1;if(this.auto){function o(){h.track()}this.on(window,"hashchange",o),this.on(window,"popstate",o),setInterval(function(){h.current===h.loc.href||h.sending||o()},500);var a=window.onerror;window.onerror=function(t,n,o,i){var r=t||"N/A",e=(n||"")+" at "+h.loc.href,s=o||"0",c=i||"0";~e.indexOf(h.loc.origin)&&h.pushEvent("[Global Error]","Error: "+r+". File: "+e.replace(h.loc.origin,"").replace(h.loc.origin,"")+" At: "+s+":"+c),a&&a.apply(this,arguments)},o()}}return t.prototype.on=function(t,n,o){t.addEventListener?t.addEventListener(n,o,!1):t.attachEvent("on"+n,o)},t.prototype.onPushEvent=function(t){t&&"function"==typeof t&&this.onEventArr.push(t)},t.prototype.onTrack=function(t){t&&"function"==typeof t&&this.onTrackArr.push(t)},t.prototype.pushEvent=function(t,n){for(var o=this.onEventArr.length-1;0<=o;o--)this.onEventArr[o](t,n);if(!this.DNT)if(t&&n&&""+t.length&&""+n.length){var i=""+t,r=""+n,e={};if("[Global Error]"===i){if(r=r.trim().substring(0,512),~this.errs.indexOf(r))return;this.errs.push(r)}else r=r.trim().substring(0,64);e[i.trim().substring(0,24)]=r,this.track("?3="+this._euc(JSON.stringify(e)))}else this.warn("[ostrio] [pushEvent]: Can't add event without key or value!")},t.prototype.track=function(t){var n=t||"";if(!~n.indexOf("?3="))for(var o=this.onTrackArr.length-1;0<=o;o--)this.onTrackArr[o]();if(!this.DNT&&(!this.sending&&this.current!==this.loc.href||~n.indexOf("?3="))){this.sending=!0;var i=this;setTimeout(function(){var t;i.current=i.loc.href,~n.indexOf("?3=")||(n="?6="+i._euc(i.loc.href.trim().substring(0,1024))+n,n+="&2="+i._euc(document.title.trim().substring(0,512)),document.referrer&&!~document.referrer.indexOf(i.loc.origin)&&(n+="&1="+i._euc(document.referrer.trim().substring(0,1024)))),(t=void 0===window.Image?document.createElement("img"):new Image).onload=function(){t=null},t.src="https://analytics.ostr.io/"+i.sid+".gif"+n+"&9="+(""+ +new Date).substr(-7)+"&v="+i.version,i.sending=!1},64)}},t}();